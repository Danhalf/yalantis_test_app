(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{11:function(e,t,a){e.exports={tracking:"TrackingEmployees_tracking__1Rwgm",list:"TrackingEmployees_list__2549M"}},15:function(e,t,a){e.exports={app:"App_app__2sS-N"}},2:function(e,t,a){e.exports={letters:"Employess_letters__3iB4o",letter_list:"Employess_letter_list__1wH8j",letter_title:"Employess_letter_title__2S8CJ",letter_item:"Employess_letter_item__14Td2",letter_empty:"Employess_letter_empty__2rkE3",item_radio:"Employess_item_radio__1bA9-",item_name:"Employess_item_name__1jXqI",active:"Employess_active__1bf-R"}},27:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),i=a(8),n=a.n(i),s=a(4),l=(a(27),a(15)),o=a.n(l),u=a(7),d=a(2),m=a.n(d),p=a(1),j=function(e){var t=Object(r.useState)(e.user.active),a=Object(u.a)(t,2),c=a[0],i=a[1];return Object(p.jsxs)("li",{className:m.a.letter_item,children:[Object(p.jsxs)("span",{className:c?"".concat(m.a.item_name," ").concat(m.a.active):m.a.item_name,children:[e.user.firstName," ",e.user.lastName]}),Object(p.jsxs)("div",{className:m.a.item_radio,children:[Object(p.jsx)("input",{label:"active",type:"radio",name:"".concat(e.user.id,"_active"),defaultChecked:e.user.active,onChange:function(){return i(!0),e.addActive({letter:e.letter,idx:e.idx,id:e.user.id,firstName:e.user.firstName,lastName:e.user.lastName,dob:e.user.dob,active:!0})}}),Object(p.jsx)("input",{label:"not active",type:"radio",name:"".concat(e.user.id,"_active"),defaultChecked:!e.user.active,onChange:function(){return i(!1),e.deleteActive({letter:e.letter,idx:e.idx,id:e.user.id,active:!1})}})]})]},e.user.id)},b=fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})),y=a(3),f=a(5),v="SET_EMPLOYEES",_="ADD_ACTIVE",h="DELETE_ACTIVE",O={employees:[],trackingEmployees:[],currentStorage:localStorage.getItem("activeStatus")&&Object(f.a)(new Set(localStorage.getItem("activeStatus").split(",")))},g=function(e){return{type:v,payload:e}},N=function(e){return{type:_,payload:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(y.a)(Object(y.a)({},e),{},{employees:t.payload});case _:return localStorage.setItem("activeStatus",[localStorage.getItem("activeStatus"),t.payload.id]),Object(y.a)(Object(y.a)(Object(y.a)({},e),e.employees[t.payload.letter][t.payload.idx].active=t.payload.active),{},{trackingEmployees:[].concat(Object(f.a)(e.trackingEmployees),[{id:t.payload.id,firstName:t.payload.firstName,lastName:t.payload.lastName,dob:t.payload.dob}]).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}))});case h:return e.currentStorage&&(e.currentStorage=e.currentStorage.filter((function(e){return e!==t.payload.id}))),localStorage.setItem("activeStatus",e.currentStorage),Object(y.a)(Object(y.a)(Object(y.a)({},e),e.employees[t.payload.letter][t.payload.idx].active=t.payload.active),{},{trackingEmployees:e.trackingEmployees.filter((function(e){return e.id!==t.payload.id}))});default:return e}},x=Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)})),S=b;for(var k=function(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),c=a[0],i=a[1],n=Object(r.useState)(!1),l=Object(u.a)(n,2),o=l[0],d=l[1],b=Object(s.c)();return Object(r.useEffect)((function(){S.then((function(e){d(!0);var t=x.reduce((function(e,t){return e[t]=[],e}),{});e.forEach((function(e,a){var r=e.firstName.slice(0,1);(null===t||void 0===t?void 0:t[r])&&t[r].push({id:e.id,firstName:e.firstName,lastName:e.lastName,dob:e.dob,active:!!localStorage.getItem("activeStatus")&&localStorage.getItem("activeStatus").includes(e.id)})})),b(g(t))}),(function(e){d(!0),i(e)}))}),[]),c?Object(p.jsxs)("div",{children:["Error: ",c.message]}):o?Object(p.jsx)("div",{className:m.a.letters,children:Object.keys(e.employees).map((function(t){return Object(p.jsxs)("ul",{className:m.a.letter_list,children:[Object(p.jsx)("h3",{className:m.a.letter_title,children:t}),e.employees[t].length?e.employees[t].sort((function(e,t){return e.firstName.localeCompare(t.firstName)})).map((function(a,r){return Object(p.jsx)(j,{user:a,addActive:e.addActive,deleteActive:e.deleteActive,idx:r,letter:t},"".concat(r).concat(t))})):Object(p.jsx)("li",{className:"".concat(m.a.letter_item," ").concat(m.a.letter_empty),children:"No Employees"})]},t)}))}):Object(p.jsx)("div",{children:"Loading..."})},A=a(11),w=a.n(A),C=new Date,D=[],I=["January","February","March","April","May","June","July","August","September","October","November","December"],M=C.getMonth();M<12;M++)D.push(I.splice([M],1,""));var T=D.length;D=[].concat(Object(f.a)(D),I).flat().filter(Boolean);var J=function(e){var t=e.trackingEmployees?Object(f.a)(function e(t){if(Array.isArray(t))return t.filter((function(e){return!0===e.active})).reduce((function(e,t){return[].concat(Object(f.a)(e),[{id:t.id,firstName:t.firstName,lastName:t.lastName,dob:t.dob}])}),[]);for(var a=[],r=0,c=Object.values(t);r<c.length;r++){var i=c[r];a.push(e(i))}return a}(e.employees)).filter((function(e){return 0!==e.length})).flat(1):e.trackingEmployees;return Object(p.jsxs)("div",{className:w.a.tracking,children:[Object(p.jsx)("h2",{className:w.a.title,children:"Employees birthday"}),t.length>0?D.map((function(e,a){return Object(p.jsxs)("ul",{className:w.a.list,children:[Object(p.jsx)("h2",{children:e}),t.filter((function(e){return I[new Date(e.dob).getMonth()]===I[a-T]})).length?t.filter((function(e){return I[new Date(e.dob).getMonth()]===I[a-T]})).map((function(e){return Object(p.jsxs)("li",{children:[new Date(e.dob).getDate()," ",I[new Date(e.dob).getMonth()]," -"," ",e.firstName," ",e.lastName," "]},e.id)})):Object(p.jsx)("li",{children:""})]},e)})):Object(p.jsx)("h2",{children:"Employees List is empty"})]})};var L=function(e){return{employees:e.employees,trackingEmployees:e.trackingEmployees}},B=Object(s.b)(L,{setEmployees:g,addActive:N,deleteActive:function(e){return{type:h,payload:e}}})(k),R=Object(s.b)(L,{toggleActive:N})(J),V=function(){return Object(p.jsxs)("div",{className:o.a.app,children:[Object(p.jsx)(B,{}),Object(p.jsx)(R,{})]})},q=a(10),F=a(16),H=Object(q.createStore)(E,Object(F.composeWithDevTools)(Object(q.applyMiddleware)()));n.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:H,children:Object(p.jsx)(V,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.fc085d8f.chunk.js.map