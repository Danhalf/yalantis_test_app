{"version":3,"sources":["TrackingEmployees/TrackingEmployees.module.css","App.module.css","Employees/Employess.module.css","Employees/Employee/Employee.jsx","API/API.js","store/employeesReducer.js","Employees/Employees.jsx","TrackingEmployees/TrackingEmployees.jsx","App.js","store/store.js","index.js"],"names":["module","exports","Employee","props","useState","user","active","setActive","className","style","letter_item","item_name","firstName","lastName","item_radio","label","type","name","id","defaultChecked","onChange","addActive","letter","idx","dob","deleteActive","API","fetch","then","response","json","SET_EMPLOYEES","ADD_ACTIVE","DELETE_ACTIVE","initialState","employees","trackingEmployees","currentStorage","localStorage","getItem","Set","split","setEmployees","payload","employeesReducer","state","action","console","log","setItem","sort","a","b","localeCompare","filter","elem","emp","alphabet","Array","from","map","e","i","x","String","fromCharCode","fetchAPI","Employees","error","setError","isLoaded","setIsLoaded","dispatch","useDispatch","useEffect","result","sortUsersByAlphabet","reduce","acc","cur","forEach","currentLetter","slice","push","includes","message","letters","Object","keys","letter_list","letter_title","length","letter_empty","date","Date","months","monthsNames","getMonth","splice","monthDiff","flat","Boolean","TrackingEmployees","tracking","title","month","list","employee","getDate","mapStateToProps","EmployeesContainer","connect","TrackingEmployeesContainer","toggleActive","App","app","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.922a861d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tracking\":\"TrackingEmployees_tracking__1X1zt\",\"list\":\"TrackingEmployees_list__2SZ-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__hkr-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"letters\":\"Employess_letters__3T2W8\",\"letter_list\":\"Employess_letter_list__in53o\",\"letter_title\":\"Employess_letter_title__3VL3h\",\"letter_item\":\"Employess_letter_item__5YiUc\",\"letter_empty\":\"Employess_letter_empty__21CXU\",\"item_radio\":\"Employess_item_radio__3kD-F\",\"item_name\":\"Employess_item_name__SuQqL\",\"active\":\"Employess_active__2AHe1\"};","import style from '../Employess.module.css';\r\nimport { useState } from 'react';\r\n\r\nconst Employee = (props) => {\r\n    const [ active, setActive ] = useState(props.user.active);\r\n    return (\r\n        <li className={ style.letter_item } key={ props.user.id }>\r\n      <span\r\n          className={\r\n              active ? `${ style.item_name } ${ style.active }` : style.item_name\r\n          }\r\n      >\r\n        { props.user.firstName } { props.user.lastName }\r\n      </span>\r\n            <div className={ style.item_radio }>\r\n                <input\r\n                    label=\"active\"\r\n                    type=\"radio\"\r\n                    name={ `${ props.user.id }_active` }\r\n                    // value={props.user.active}\r\n                    defaultChecked={ props.user.active }\r\n                    onChange={ () => {\r\n                        setActive(true);\r\n                        return props.addActive({\r\n                            letter: props.letter,\r\n                            idx: props.idx,\r\n                            id: props.user.id,\r\n                            firstName: props.user.firstName,\r\n                            lastName: props.user.lastName,\r\n                            dob: props.user.dob,\r\n                            active: true,\r\n                        });\r\n                    } }\r\n                />\r\n                <input\r\n                    label=\"not active\"\r\n                    type=\"radio\"\r\n                    name={ `${ props.user.id }_active` }\r\n                    // value={props.user.active}\r\n                    defaultChecked={ !props.user.active }\r\n                    onChange={ () => {\r\n                        setActive(false);\r\n                        return props.deleteActive({\r\n                            letter: props.letter,\r\n                            idx: props.idx,\r\n                            id: props.user.id,\r\n                            active: false,\r\n                        });\r\n                    } }\r\n                />\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Employee;\r\n","const URL = `https://yalantis-react-school-api.yalantis.com/api/task0/users`\r\n\r\n\r\nconst API = fetch(URL).then((response) => {\r\n    return response.json();\r\n})\r\n\r\n\r\n\r\nexport default API","const SET_EMPLOYEES = 'SET_EMPLOYEES';\r\nconst ADD_ACTIVE = 'ADD_ACTIVE';\r\nconst DELETE_ACTIVE = 'DELETE_ACTIVE';\r\n\r\nconst initialState = {\r\n    employees: [],\r\n    trackingEmployees: [],\r\n    currentStorage: localStorage.getItem('activeStatus') && [\r\n        ...new Set(localStorage.getItem('activeStatus').split(',')),\r\n    ]\r\n};\r\n\r\nconst employeesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_EMPLOYEES:\r\n            console.log(state.trackingEmployees);\r\n            return {\r\n                ...state,\r\n                employees: action.payload,\r\n            };\r\n\r\n\r\n        case ADD_ACTIVE:\r\n            localStorage.setItem('activeStatus', [\r\n                localStorage.getItem('activeStatus'),\r\n                action.payload.id,\r\n            ]);\r\n            return {\r\n                ...state,\r\n                ...(state.employees[action.payload.letter][action.payload.idx][\r\n                    'active'\r\n                    ] = action.payload.active),\r\n                trackingEmployees: [ ...state.trackingEmployees, {\r\n                    id: action.payload.id, firstName: action.payload.firstName,\r\n                    lastName: action.payload.lastName, dob: action.payload.dob\r\n                } ].sort((a, b) => a.lastName.localeCompare(b.lastName))\r\n            };\r\n\r\n\r\n        case DELETE_ACTIVE:\r\n            if (state.currentStorage)\r\n            state.currentStorage = state.currentStorage.filter(\r\n                (elem) => {\r\n                    return elem !== action.payload.id\r\n                }\r\n            );\r\n            localStorage.setItem('activeStatus', state.currentStorage);\r\n            return {\r\n                ...state,\r\n                ...(state.employees[action.payload.letter][action.payload.idx][\r\n                    'active'\r\n                    ] = action.payload.active),\r\n                trackingEmployees: state.trackingEmployees.filter((emp) => emp.id != action.payload.id)\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setEmployees = (employees) => ({\r\n    type: SET_EMPLOYEES,\r\n    payload: employees,\r\n});\r\nexport const addActive = (active) => ({\r\n    type: ADD_ACTIVE,\r\n    payload: active,\r\n});\r\nexport const deleteActive = (active) => ({\r\n    type: DELETE_ACTIVE,\r\n    payload: active,\r\n});\r\n\r\nexport default employeesReducer;\r\n","import { useEffect, useState } from 'react';\r\nimport style from './Employess.module.css';\r\nimport Employee from './Employee/Employee';\r\nimport API from '../API/API';\r\nimport { setEmployees } from '../store/employeesReducer';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst alpha = Array.from(Array(26)).map((e, i) => i + 65);\r\nconst alphabet = alpha.map((x) => String.fromCharCode(x));\r\nconst fetchAPI = API;\r\n\r\nfunction Employees(props) {\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    fetchAPI.then(\r\n      (result) => {\r\n        setIsLoaded(true);\r\n        let sortUsersByAlphabet = alphabet.reduce(function (acc, cur) {\r\n          acc[cur] = [];\r\n          return acc;\r\n        }, {});\r\n        result.forEach((user, i) => {\r\n          const currentLetter = user.firstName.slice(0, 1);\r\n          if (sortUsersByAlphabet?.[currentLetter]) {\r\n            sortUsersByAlphabet[currentLetter].push({\r\n              id: user.id,\r\n              firstName: user.firstName,\r\n              lastName: user.lastName,\r\n              dob: user.dob,\r\n              active: localStorage.getItem('activeStatus') ? localStorage.getItem('activeStatus').includes(user.id) : false,\r\n            });\r\n          }\r\n        });\r\n\r\n        dispatch(setEmployees(sortUsersByAlphabet));\r\n      },\r\n      (error) => {\r\n        setIsLoaded(true);\r\n        setError(error);\r\n      }\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  if (error) {\r\n    return <div>Error: {error.message}</div>;\r\n  } else if (!isLoaded) {\r\n    return <div>Loading...</div>;\r\n  } else {\r\n    return (\r\n      <div className={style.letters}>\r\n        {Object.keys(props.employees).map((letter) => (\r\n          <ul className={style.letter_list} key={letter}>\r\n            <h3 className={style.letter_title}>{letter}</h3>\r\n            {props.employees[letter].length ? (\r\n              props.employees[letter].sort((a, b) => a.firstName.localeCompare(b.firstName)).map((user, idx) => (\r\n                <Employee\r\n                  user={user}\r\n                  addActive={props.addActive}\r\n                  deleteActive={props.deleteActive}\r\n                  idx={idx}\r\n                  letter={letter}\r\n                />\r\n              ))\r\n            ) : (\r\n              <li className={`${style.letter_item} ${style.letter_empty}`}>\r\n                No Employees\r\n              </li>\r\n            )}\r\n          </ul>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Employees;\r\n","import style from './TrackingEmployees.module.css';\r\n\r\nconst title = 'Employees birthday';\r\nconst date = new Date();\r\nlet months = [];\r\nconst monthsNames = [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ];\r\n\r\nfor (let i = date.getMonth(); i < 12; i++) {\r\n    months.push(monthsNames.splice([ i ], 1, ''))\r\n}\r\n\r\nconst monthDiff = months.length\r\n\r\nmonths = [ ...months, ...monthsNames ].flat().filter(Boolean)\r\n\r\n\r\nfunction TrackingEmployees(props) {\r\n    return (\r\n        <div className={ style.tracking }>\r\n\r\n            <h2 className={ style.title }>{ title }</h2>\r\n            {\r\n                props.trackingEmployees.length\r\n                    ? months.map((month, idx) => (\r\n                            <ul className={ style.list } key={ month }>\r\n                                <h2>{ month }</h2>\r\n                                {\r\n                                    props.trackingEmployees.filter(emp => monthsNames[new Date(emp.dob).getMonth()] === monthsNames[idx - monthDiff]).length ?\r\n                                        props.trackingEmployees.filter(emp => monthsNames[new Date(emp.dob).getMonth()] === monthsNames[idx - monthDiff]).map(employee => {\r\n                                            return (\r\n                                                <li key={ employee.id }>{ new Date(employee.dob).getDate() } { monthsNames[new Date(employee.dob).getMonth()] } - { employee.firstName } { employee.lastName } </li>\r\n                                            )\r\n                                        })\r\n                                        : <li>Employees List is empty</li> }\r\n                            </ul>\r\n                        )\r\n                    )\r\n                    : <h2>Employees List is empty</h2>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TrackingEmployees;\r\n","import style from './App.module.css';\r\nimport Employees from './Employees/Employees';\r\nimport TrackingEmployees from './TrackingEmployees/TrackingEmployees';\r\nimport { setEmployees, addActive, deleteActive } from \"./store/employeesReducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction App() {\r\n    return (\r\n        <div className={ style.app }>\r\n            <EmployeesContainer/>\r\n            <TrackingEmployeesContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    employees: state.employees,\r\n    trackingEmployees: state.trackingEmployees\r\n});\r\n\r\n\r\nconst EmployeesContainer = connect(mapStateToProps, {setEmployees, addActive, deleteActive})(Employees)\r\nconst TrackingEmployeesContainer = connect(mapStateToProps, {toggleActive: addActive})(TrackingEmployees)\r\nexport default App;\r\n","import employeesReducer from \"./employeesReducer\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\n\r\nconst store = createStore( employeesReducer, composeWithDevTools(applyMiddleware()) )\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\n\nimport './index.css';\nimport App from './App';\nimport store from \"./store/store\";\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={ store }>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}